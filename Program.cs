using System.Text.Json;

// deserialize mario json from file into List<Mario>
List<Character> dks = JsonSerializer.Deserialize<List<Character>>(File.ReadAllText("dk.json"))!;
// deserialize mario json from file into List<Mario>
List<Character> marios = JsonSerializer.Deserialize<List<Character>>(File.ReadAllText("mario.json"))!;
// combine all characters into 1 list
List<Character> characters = [];
characters.AddRange(dks);
characters.AddRange(marios);


// display all characters
Console.Clear();

// bool Character1995 = characters.Any(c => c.YearCreated == 1995);
// Console.WriteLine($"Are there characters created in 1995: {Character1995}");

// Console.WriteLine($"How many? {characters.Count(c => c.YearCreated == 1995)}");

// foreach(CharacterDTO characterDTO in characters.Where(c => c.YearCreated == 1995).Select(c => new CharacterDTO{ Id = c.Id, Name = c.Name, Series = c.Series }).OrderBy(c => c.Name))
// {
//   Console.WriteLine(characterDTO.Display());
// }

// // how many characters in total (all series)?
// int count1981 = characters.Count(c => c.YearCreated == 1981);
// Console.WriteLine($"1.There are {count1981} characters created in 1981 all series");

// how many characters in total (all series)?
int count1981 = characters.Count(c => c.YearCreated == 1981);
Console.WriteLine($"Here are {count1981} characters created in 1981 all series");

//List the character(s) created in that 1981 (all series) - return character name and series only.
var created1981Characters = characters
    .Where(c => c.YearCreated == 1981)
    .Select(c => new { c.Name, Series = string.Join(", ", c.Series) });

foreach (var character in created1981Characters)
{
    Console.WriteLine($"Name: {character.Name}, Series: {character.Series}");
}

//How many character(s) were created in 1981 (Mario series)
int count1981Mario = characters
    .Count(c => c.YearCreated == 1981 && c.Series.Contains("Mario"));
Console.WriteLine($"There are {count1981Mario} characters created in 1981 in the Mario series");

//List the character(s) created in that 1981 (Mario series) - return character name only.
var names1981Mario = characters
    .Where(c => c.YearCreated == 1981 && c.Series.Contains("Mario"))
    .Select(c => c.Name);

foreach (var name in names1981Mario)
{
    Console.WriteLine(name);
}

// How many character(s) were created in 1981 (Donkey Kong series)?
int count1981DonkeyKong = characters
    .Count(c => c.YearCreated == 1981 && c.Series.Contains("Donkey Kong"));
Console.WriteLine($"2.There are {count1981DonkeyKong} characters created in 1981 in the Donkey Kong series");



















































































































































































































































































































































































































































